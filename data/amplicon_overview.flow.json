[ 
    { "type": "Text", "style": "Title", "text": "$$metadata.project.name$$", "tocTitle": "Home", "tocName": "home" },
    { "type": "Text", "style": "Subtitle", "text": "a project by $$metadata.project.data.PI_firstname$$ $$metadata.project.data.PI_lastname$$, $$metadata.project.data.PI_organization$$" },
    { "type": "Text", "style": "Paragraph", "text": "$$metadata.project.data.project_description$$" },
    { "type": "Text", "style": "Header", "text": "Metagenome Data Sheet for ID $$id$$", "tocTitle": "Summary", "tocName": "summary"  },
    { "type": "Text", "style": "Paragraph", "text": "The amplicon dataset $$name$$ was uploaded on $$created$$ and contains $$statistics.sequence_stats.sequence_count_raw$$ sequences totaling $$statistics.sequence_stats.bp_count_raw$$ basepairs with an average length of $$statistics.sequence_stats.average_length_raw$$ bps. The piechart below breaks down the uploaded sequences into 5 distinct categories." },
    { "type": "Text", "style": "Paragraph", "text": "$$qc_fail_seqs$$ sequences ($$qc_fail_seqs_percent$$%) failed to pass the QC pipeline. Of the sequences that passed QC, $$ann_rna_reads$$ sequences ($$ann_rna_reads_percent$$%) contain ribosomal RNA genes." },
    { "type": "Text", "style": "Paragraph", "text": "The analysis results shown on this page are computed by MG-RAST. Please note that authors may upload data that they have published their own analysis for, in such cases comparison within the MG-RAST framework can not be done." },
    { "type": "Text", "style": "Header", "text": "Sequence Breakdown" },
    { "type": "Graphic", "graphicType": "pieChart", "data": [ { "label": "Failed QC", "value": "$$qc_fail_seqs$$" }, { "label": "Unknown", "value": "$$unknown_all$$" }, { "label": "Unknown Protein", "value": "$$unkn_aa_reads$$" }, { "label": "Annotated Protein", "value": "$$ann_aa_reads$$" }, { "label": "ribosomal RNA", "value": "$$ann_rna_reads$$" } ], "settings": { "showValuesOnLabel": true, "graphWidth": 300, "legendWidth": 400, "sorted": true }, "provenance": { "source": "MG-RAST pipeline", "metagenomes": [ "$$name$$" ], "noCutoffs": true, "type": "basic statistics", "subselection": "sequence breakdown", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Analysis Statistics", "width": "span6", "tocTitle": "Analysis Statistics", "tocName": "stats"  },
    { "type": "Text", "style": "Header", "text": "GSC MIxS Info", "width": "span5", "tocTitle": "MIxS Metadata", "tocName": "mixs"  },
    { "type": "Table", "style": "table-striped", "width": "span6", "data": [ 
	[ "<b>Upload: bp Count</b>", "$$statistics.sequence_stats.bp_count_raw$$ bp" ],
	[ "<b>Upload: Sequences Count</b>", "$$statistics.sequence_stats.sequence_count_raw$$" ],
	[ "<b>Upload: Mean Sequence Length</b>", "$$statistics.sequence_stats.average_length_raw$$ ± $$statistics.sequence_stats.standartd_deviation_length_raw$$ bp" ],
	[ "<b>Upload: Mean GC percent</b>", "$$statistics.sequence_stats.average_gc_content_raw$$ ± $$statistics.sequence_stats.standard_deviation_gc_content_raw$$ %" ],
	[ "<b>Artificial Duplicate Reads: Sequence Count</b>", "$$statistics.sequence_stats.sequence_count_dereplication_removed$$" ],
	[ "<b>Post QC: bp Count</b>", "$$statistics.sequence_stats.bp_count_preprocessed$$ bp" ],
	[ "<b>Post QC: Sequences Count</b>", "$$statistics.sequence_stats.sequence_count_preprocessed$$" ],
	[ "<b>Post QC: Mean Sequence Length</b>", "$$statistics.sequence_stats.average_length_preprocessed$$ ± $$statistics.sequence_stats.standard_deviation_length_preprocessed$$ bp" ],
	[ "<b>Post QC: Mean GC percent</b>", "$$statistics.sequence_stats.average_gc_content_preprocessed$$ ± $$statistics.sequence_stats.standard_deviation_gc_content_preprocessed$$ %" ],
	[ "<b>Processed: Predicted Protein Features</b>", "$$statistics.sequence_stats.sequence_count_processed_aa$$" ],
	[ "<b>Processed: Predicted rRNA Features</b>", "$$statistics.sequence_stats.sequence_count_processed_rna$$" ],
	[ "<b>Alignment: Identified Protein Features</b>", "$$statistics.sequence_stats.sequence_count_sims_aa$$" ],
	[ "<b>Alignment: Identified rRNA Features</b>", "$$statistics.sequence_stats.sequence_count_sims_rna$$" ],
	[ "<b>Annotation: Identified Functional Categories</b>", "$$statistics.sequence_stats.sequence_count_ontology$$" ] ] },
    { "type": "Table", "style": "table-striped", "width": "span5", "data": [ 
	[ "<b>Investigation Type</b>", "$$mixs.sequence_type$$" ],
	[ "<b>Project Name</b>", "$$mixs.project_name$$" ],
	[ "<b>Latitude and Longitude</b>", "$$mixs.latitude$$ $$mixs.longitude$$" ],
	[ "<b>Country and/or Sea, Location</b>", "$$mixs.location$$" ],
	[ "<b>Collection Date</b>", "$$mixs.collection_date$$" ],
	[ "<b>Environment (Biome)</b>", "$$mixs.biome$$" ],
	[ "<b>Environment (Feature)</b>", "$$mixs.feature$$" ],
	[ "<b>Environment (Material)</b>", "$$mixs.material$$" ],
	[ "<b>Environmental Package</b>", "$$mixs.env_package_type$$" ],
	[ "<b>Sequencing Method</b>", "$$mixs.seq_method$$" ],
	[ "<b>More Metadata</b>", "<a href='#metadata'>click for full table</a>" ]
    ] },
    { "type": "Text", "style": "Header", "text": "DRISEE", "tocTitle": "DRISEE", "tocName": "drisee" },
    { "type": "Text", "style": "Paragraph", "text": "Duplicate Read Inferred Sequencing Error Estimation (<a href='http://www.ploscompbiol.org/article/info%3Adoi%2F10.1371%2Fjournal.pcbi.1002541' target=_blank>Keegan et al., PLoS Computational Biology, 2012</a>)" },
    { "type": "Text", "style": "Paragraph", "text": "DRISEE is a tool that utilizes artificial duplicate reads (ADRs) to provide a platform independent assessment of sequencing error in metagenomic (or genomic) sequencing data. DRISEE is designed to consider shotgun data. Currently, it is not appropriate for amplicon data." },
    { "type": "Text", "style": "Paragraph", "text": "Note that DRISEE is designed to examine sequencing error in raw whole genome shotgun sequence data. It assumes that adapter and/or barcode sequences have been removed, but that the sequence data have not been modified in any additional way. (e.g.) Assembly or merging, QC based triage or trimming will both reduce DRISEE\"s ability to provide an accurate assessment of error by removing error before it is analyzed." },
    { "type": "Graphic", "graphicType": "lineChart", "data": "$$drisee$$", "height": 400, "settings": { "graphWidth": 550, "showLegend": true, "minValIsZeroX": true, "strokeWidth": 2 }, "error": "The available data was insufficient to calculate an error profile.", "provenance": { "source": "MG-RAST pipeline", "metagenomes": [ "$$name$$" ], "noCutoffs": true, "type": "basic statistics", "subselection": "DRISEE error profile", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "K-mer Profile", "tocTitle": "K-mer Profile", "tocName": "kmer" },
    { "type": "Text", "style": "Paragraph", "text": "The kmer rank abundance graph plots the kmer coverage as a function of abundance rank, with the most abundant sequences at left." },
    { "type": "Graphic", "graphicType": "lineChart", "data": [ { "values": "$$kmer$$" } ], "height": 400, "settings": { "graphWidth": 700, "showLegend": false, "logScaleX": true, "logScaleY": true }, "provenance": { "source": "MG-RAST pipeline", "metagenomes": [ "$$name$$" ], "noCutoffs": true, "type": "basic statistics", "subselection": "k-mer profile", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Nucleotide Histogram", "tocTitle": "Nucleotide Histogram", "tocName": "bpprofile" },
    { "type": "Text", "style": "Paragraph", "text": "These graphs show the fraction of base pairs of each type (A, C, G, T, or ambiguous base 'N') at each position starting from the beginning of each read up to the first 100 base pairs. Amplicon datasets should show consensus sequences; shotgun datasets should have roughly equal proportions of basecalls." },
    { "type": "Graphic", "graphicType": "areaGraph", "data": "$$bpprofile$$", "settings": { "graphWidth": 580 }, "provenance": { "source": "MG-RAST pipeline", "metagenomes": [ "$$name$$" ], "noCutoffs": true, "type": "basic statistics", "subselection": "nucleotide histogram", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Metadata", "tocTitle": "Metadata", "tocName": "metadata" },
    { "type": "Table", "style": "table-striped table-condensed table-bordered", "header": [ "category", "field", "value" ], "dataReference": "allmetadata" },
    { "type": "Text", "style": "Paragraph", "text": "", "tocIcon": "cloud-download.png", "tocName": "Download", "tocLink": "mgmain.html?mgpage=download&metagenome=$$id$$" }
]
