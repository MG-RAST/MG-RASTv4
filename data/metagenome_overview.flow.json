[ 
    { "type": "Text", "style": "Title", "text": "$$metadata.project.name$$", "tocTitle": "Home", "tocName": "home" },
    { "type": "Text", "style": "Subtitle", "text": "a project by $$metadata.project.data.PI_firstname$$ $$metadata.project.data.PI_lastname$$, $$metadata.project.data.PI_organization$$" },
    { "type": "Text", "style": "Paragraph", "text": "$$metadata.project.data.project_description$$" },
    { "type": "Text", "style": "Header", "text": "Metagenome Data Sheet for ID $$id$$", "tocTitle": "Summary", "tocName": "summary"  },
    { "type": "Text", "style": "Paragraph", "text": "The dataset $$name$$ was uploaded on $$created$$ and contains $$statistics.sequence_stats.sequence_count_raw$$ sequences totaling $$statistics.sequence_stats.bp_count_raw$$ basepairs with an average length of $$statistics.sequence_stats.average_length_raw$$ bps. The piechart below breaks down the uploaded sequences into 5 distinct categories." },
    { "type": "Text", "style": "Paragraph", "text": "$$qc_fail_seqs$$ sequences ($$qc_fail_seqs_percent$$%) failed to pass the QC pipeline. Of the sequences that passed QC, $$ann_rna_reads$$ sequences ($$ann_rna_reads_percent$$%) contain ribosomal RNA genes. Of the remainder, $$ann_aa_reads$$ sequences ($$ann_aa_reads_percent$$%) contain predicted proteins with known functions and $$unkn_aa_reads$$ sequences ($$unkn_aa_reads_percent$$%) contain predicted proteins with unknown function." },
    { "type": "Text", "style": "Paragraph", "text": "The analysis results shown on this page are computed by MG-RAST. Please note that authors may upload data that they have published their own analysis for, in such cases comparison within the MG-RAST framework can not be done." },
    { "type": "Text", "style": "Header", "text": "Sequence Breakdown" },
    { "type": "Graphic", "graphicType": "pieChart", "data": [ { "label": "Failed QC", "value": "$$qc_fail_seqs$$" }, { "label": "Unknown", "value": "$$unknown_all$$" }, { "label": "Unknown Protein", "value": "$$unkn_aa_reads$$" }, { "label": "Annotated Protein", "value": "$$ann_aa_reads$$" }, { "label": "ribosomal RNA", "value": "$$ann_rna_reads$$" } ], "settings": { "showValuesOnLabel": true, "graphWidth": 300, "legendWidth": 400, "sorted": true }, "provenance": { "source": "MG-RAST pipeline", "metagenomes": [ "$$name$$" ], "noCutoffs": true, "type": "basic statistics", "subselection": "sequence breakdown", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Analysis Statistics", "width": "span6", "tocTitle": "Analysis Statistics", "tocName": "stats"  },
    { "type": "Text", "style": "Header", "text": "GSC MIxS Info", "width": "span5", "tocTitle": "MIxS Metadata", "tocName": "mixs"  },
    { "type": "Table", "style": "table-striped", "width": "span6", "data": [ 
	[ "<b>Upload: bp Count</b>", "$$statistics.sequence_stats.bp_count_raw$$ bp" ],
	[ "<b>Upload: Sequences Count</b>", "$$statistics.sequence_stats.sequence_count_raw$$" ],
	[ "<b>Upload: Mean Sequence Length</b>", "$$statistics.sequence_stats.average_length_raw$$ ± $$statistics.sequence_stats.standartd_deviation_length_raw$$ bp" ],
	[ "<b>Upload: Mean GC percent</b>", "$$statistics.sequence_stats.average_gc_content_raw$$ ± $$statistics.sequence_stats.standard_deviation_gc_content_raw$$ %" ],
	[ "<b>Artificial Duplicate Reads: Sequence Count</b>", "$$statistics.sequence_stats.sequence_count_dereplication_removed$$" ],
	[ "<b>Post QC: bp Count</b>", "$$statistics.sequence_stats.bp_count_preprocessed$$ bp" ],
	[ "<b>Post QC: Sequences Count</b>", "$$statistics.sequence_stats.sequence_count_preprocessed$$" ],
	[ "<b>Post QC: Mean Sequence Length</b>", "$$statistics.sequence_stats.average_length_preprocessed$$ ± $$statistics.sequence_stats.standard_deviation_length_preprocessed$$ bp" ],
	[ "<b>Post QC: Mean GC percent</b>", "$$statistics.sequence_stats.average_gc_content_preprocessed$$ ± $$statistics.sequence_stats.standard_deviation_gc_content_preprocessed$$ %" ],
	[ "<b>Processed: Predicted Protein Features</b>", "$$statistics.sequence_stats.sequence_count_processed_aa$$" ],
	[ "<b>Processed: Predicted rRNA Features</b>", "$$statistics.sequence_stats.sequence_count_processed_rna$$" ],
	[ "<b>Alignment: Identified Protein Features</b>", "$$statistics.sequence_stats.sequence_count_sims_aa$$" ],
	[ "<b>Alignment: Identified rRNA Features</b>", "$$statistics.sequence_stats.sequence_count_sims_rna$$" ],
	[ "<b>Annotation: Identified Functional Categories</b>", "$$statistics.sequence_stats.sequence_count_ontology$$" ] ] },
    { "type": "Table", "style": "table-striped", "width": "span5", "data": [ 
	[ "<b>Investigation Type</b>", "$$mixs.sequence_type$$" ],
	[ "<b>Project Name</b>", "$$mixs.project_name$$" ],
	[ "<b>Latitude and Longitude</b>", "$$mixs.latitude$$ $$mixs.longitude$$" ],
	[ "<b>Country and/or Sea, Location</b>", "$$mixs.location$$" ],
	[ "<b>Collection Date</b>", "$$mixs.collection_date$$" ],
	[ "<b>Environment (Biome)</b>", "$$mixs.biome$$" ],
	[ "<b>Environment (Feature)</b>", "$$mixs.feature$$" ],
	[ "<b>Environment (Material)</b>", "$$mixs.material$$" ],
	[ "<b>Environmental Package</b>", "$$mixs.env_package_type$$" ],
	[ "<b>Sequencing Method</b>", "$$mixs.seq_method$$" ],
	[ "<b>More Metadata</b>", "<a href='#metadata'>click for full table</a>" ]
    ] },
    { "type": "Text", "style": "Header", "text": "DRISEE", "tocTitle": "DRISEE", "tocName": "drisee" },
    { "type": "Text", "style": "Paragraph", "text": "Duplicate Read Inferred Sequencing Error Estimation (<a href='http://www.ploscompbiol.org/article/info%3Adoi%2F10.1371%2Fjournal.pcbi.1002541' target=_blank>Keegan et al., PLoS Computational Biology, 2012</a>)" },
    { "type": "Text", "style": "Paragraph", "text": "DRISEE is a tool that utilizes artificial duplicate reads (ADRs) to provide a platform independent assessment of sequencing error in metagenomic (or genomic) sequencing data. DRISEE is designed to consider shotgun data. Currently, it is not appropriate for amplicon data." },
    { "type": "Text", "style": "Paragraph", "text": "Note that DRISEE is designed to examine sequencing error in raw whole genome shotgun sequence data. It assumes that adapter and/or barcode sequences have been removed, but that the sequence data have not been modified in any additional way. (e.g.) Assembly or merging, QC based triage or trimming will both reduce DRISEE\"s ability to provide an accurate assessment of error by removing error before it is analyzed." },
    { "type": "Graphic", "graphicType": "lineChart", "data": "$$drisee$$", "height": 400, "settings": { "graphWidth": 550, "showLegend": true, "minValIsZeroX": true, "strokeWidth": 2 }, "error": "The available data was insufficient to calculate an error profile.", "provenance": { "source": "MG-RAST pipeline", "metagenomes": [ "$$name$$" ], "noCutoffs": true, "type": "basic statistics", "subselection": "DRISEE error profile", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "K-mer Profile", "tocTitle": "K-mer Profile", "tocName": "kmer" },
    { "type": "Text", "style": "Paragraph", "text": "The kmer rank abundance graph plots the kmer coverage as a function of abundance rank, with the most abundant sequences at left." },
    { "type": "Graphic", "graphicType": "lineChart", "data": [ { "values": "$$kmer$$" } ], "height": 400, "settings": { "graphWidth": 700, "showLegend": false, "logScaleX": true, "logScaleY": true }, "provenance": { "source": "MG-RAST pipeline", "metagenomes": [ "$$name$$" ], "noCutoffs": true, "type": "basic statistics", "subselection": "k-mer profile", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Nucleotide Histogram", "tocTitle": "Nucleotide Histogram", "tocName": "bpprofile" },
    { "type": "Text", "style": "Paragraph", "text": "These graphs show the fraction of base pairs of each type (A, C, G, T, or ambiguous base 'N') at each position starting from the beginning of each read up to the first 100 base pairs. Amplicon datasets should show consensus sequences; shotgun datasets should have roughly equal proportions of basecalls." },
    { "type": "Graphic", "graphicType": "areaGraph", "data": "$$bpprofile$$", "settings": { "graphWidth": 580 }, "provenance": { "source": "MG-RAST pipeline", "metagenomes": [ "$$name$$" ], "noCutoffs": true, "type": "basic statistics", "subselection": "nucleotide histogram", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Functional Category Hits Distribution", "tocTitle": "Functional Hits", "tocName": "ontology" },
    { "type": "Text", "style": "Paragraph", "text": "The pie charts below illustrate the distribution of functional categories for COGs, KOs, NOGs, and Subsystems at the highest level supported by these functional hierarchies. Each slice indicates the percentage of reads with predicted protein functions annotated to the category for the given source." },
    { "type": "Text", "style": "Header", "text": "COG" },
    { "type": "Graphic", "graphicType": "pieChart", "data": "$$ontology.COG$$", "settings": { "showValuesOnLabel": true, "graphWidth": 300, "legendWidth": 400, "sorted": true }, "error": "no reads classified by COG", "provenance": { "source": "COG ontology", "metagenomes": [ "$$name$$" ], "alignment length": "15bp", "e-value": "e-5", "percent identity": "60%", "type": "functional categories", "subselection": "Level 1", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "NOG" },
    { "type": "Graphic", "graphicType": "pieChart", "data": "$$ontology.NOG$$", "settings": { "showValuesOnLabel": true, "graphWidth": 300, "legendWidth": 400, "sorted": true }, "error": "no reads classified by NOG", "provenance": { "source": "NOG ontology", "metagenomes": [ "$$name$$" ], "alignment length": "15bp", "e-value": "e-5", "percent identity": "60%", "type": "functional categories", "subselection": "Level 1", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "KO" },
    { "type": "Graphic", "graphicType": "pieChart", "data": "$$ontology.KO$$", "settings": { "showValuesOnLabel": true, "graphWidth": 300, "legendWidth": 400, "sorted": true }, "error": "no reads classified by KO", "provenance": { "source": "KEGG orthologs ontology", "metagenomes": [ "$$name$$" ], "alignment length": "15bp", "e-value": "e-5", "percent identity": "60%", "type": "functional categories", "subselection": "Level 1", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Subsystems" },
    { "type": "Graphic", "graphicType": "pieChart", "data": "$$ontology.Subsystems$$", "settings": { "showValuesOnLabel": true, "graphWidth": 300, "legendWidth": 400, "sorted": true }, "error": "no reads classified by Subsystems", "provenance": { "source": "Subsystems ontology", "metagenomes": [ "$$name$$" ], "alignment length": "15bp", "e-value": "e-5", "percent identity": "60%", "type": "functional categories", "subselection": "Level 1", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Taxonomic Hits Distribution", "tocTitle": "Taxonomic Hits", "tocName": "taxonomy" },
    { "type": "Text", "style": "Paragraph", "text": "The chart below illustrates the distribution of taxonomic domains, phyla and orders for the annotations. Each slice indicates the percentage of reads with predicted proteins and ribosomal RNA genes annotated to the indicated taxonomic level. This information is based on all the annotation source databases used by MG-RAST." },
    { "type": "Graphic", "graphicType": "donutChart", "height": 800, "data": [
	{ "label": "Domain", "data": "$$taxonomy.domain$$" }, 
	{ "label": "Phylum", "data": "$$taxonomy.phylum$$" },
	{ "label": "Class", "data": "$$taxonomy.class$$" },
	{ "label": "Order", "data": "$$taxonomy.order$$" },
	{ "label": "Family", "data": "$$taxonomy.family$$" },
	{ "label": "Genus", "data": "$$taxonomy.genus$$" }
    ], "settings": { "showValuesOnLabel": true, "sorted": true, "graphWidth": 800 }, "error": "no reads with taxonomy hits", "provenance": { "source": "M5NR ontology", "metagenomes": [ "$$name$$" ], "alignment length": "15bp", "e-value": "e-5", "percent identity": "60%", "type": "taxonomic categories", "subselection": "domain through genus", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Rank Abundance Plot", "tocTitle": "Rank Abundance", "tocName": "rankabundance" },
    { "type": "Text", "style": "Paragraph", "text": "The plot below shows the family abundances ordered from the most abundant to least abundant. Only the top 50 most abundant are shown. The y-axis plots the abundances of annotations in each family on a log scale." },
    { "type": "Text", "style": "Paragraph", "text": "The rank abundance chart is a tool for visually representing taxonomic richness and evenness." },
    { "type": "Graphic", "graphicType": "barChart", "data": "$$rankabundance$$", "height": 600, "settings": { "labelRotation": 45, "graphWidth": 700, "showLegend": false, "barSpace": 4, "labelAxisWidth": 200, "valueAxisWidth": 100, "logScale": true, "color": "#3366cc" }, "error": "insufficient data for a rank-abundance graph", "provenance": { "source": "M5NR ontology", "metagenomes": [ "$$name$$" ], "alignment length": "15bp", "e-value": "e-5", "percent identity": "60%", "type": "taxonomic categories", "subselection": "top 50 family", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Rarefaction Curve", "tocTitle": "Rarefaction Curve", "tocName": "rarefaction" },
    { "type": "Text", "style": "Paragraph", "text": "The plot below shows the rarefaction curve of annotated species richness. This curve is a plot of the total number of distinct species annotations as a function of the number of sequences sampled. On the left, a steep slope indicates that a large fraction of the species diversity remains to be discovered. If the curve becomes flatter to the right, a reasonable number of individuals is sampled: more intensive sampling is likely to yield only few additional species." },
    { "type": "Text", "style": "Paragraph", "text": "Sampling curves generally rise very quickly at first and then level off towards an asymptote as fewer new species are found per unit of individuals collected. These rarefaction curves are calculated from the table of species abundance. The curves represent the average number of different species annotations for subsamples of the the complete dataset." },
    { "type": "Graphic", "graphicType": "lineChart", "data": [ { "values": "$$rarefaction$$" } ], "height": 400, "settings": { "graphWidth": 700, "showLegend": false }, "error": "insuffient data for a rarefaction curve", "provenance": { "source": "M5NR ontology", "metagenomes": [ "$$name$$" ], "alignment length": "15bp", "e-value": "e-5", "percent identity": "60%", "type": "taxonomic categories", "subselection": "species", "link": "http://api.metagenomics.anl.gov/metagenome/$$id$$?verbosity=stats" } },
    { "type": "Text", "style": "Header", "text": "Metadata", "tocTitle": "Metadata", "tocName": "metadata" },
    { "type": "Table", "style": "table-striped table-condensed table-bordered", "header": [ "category", "field", "value" ], "dataReference": "allmetadata" },
    { "type": "Text", "style": "Paragraph", "text": "", "tocName": "Download", "tocLink": "mgmain.html?mgpage=download&metagenome=$$id$$" }
]
